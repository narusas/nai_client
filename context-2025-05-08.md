# 개발 컨텍스트 요약 (2025-05-08)

## 작업 내용

### 이미지 저장 및 로드 기능 개선

#### 주요 변경사항
1. **모든 이미지 저장 기능 구현**
   - 각 컷에서 생성된 모든 이미지를 IndexedDB에 저장하도록 구현
   - 이미지 ID, URL, 시나리오 ID, 컷 ID 정보를 함께 저장
   - 이미지 생성 시 자동으로 IndexedDB에 저장

2. **모든 이미지 불러오기 기능 구현**
   - 시나리오 로드 시 해당 시나리오의 모든 이미지를 IndexedDB에서 불러옴
   - 불러온 이미지를 각 컷의 `generatedImages` 배열에 추가
   - 시나리오를 다시 열어도 이전에 생성한 모든 이미지 이력 유지

3. **오류 처리 및 안정성 개선**
   - IndexedDB 인덱스 사용 시 오류 발생 시 대체 방법 구현
   - 중복 함수 선언 문제 해결

#### 수정된 파일
1. **ScenarioEditor.vue**
   - 이미지 생성 시 모든 이미지 저장 로직 추가
   - 시나리오 로드 시 모든 이미지 불러오는 기능 추가
   - 이미지 뷰어 깜빡임 방지 로직 개선

2. **imageDbService.ts**
   - IndexedDB 스키마 업데이트 (버전 3으로 증가)
   - 모든 이미지 저장 및 불러오기 기능 구현
   - 인덱스 추가로 검색 성능 개선

3. **CutCard.vue**
   - 썸네일 클릭 이벤트 처리 개선
   - 이미지 뷰어에 모든 이미지 정보 전달

4. **ImageViewer.vue**
   - 이미지 선택 감시 로직 최적화
   - 깜빡임 방지를 위한 중복 처리 방지 로직 추가

## 다음 작업 계획
1. 이미지 생성 및 저장 기능 테스트
2. 사용자 경험 개선을 위한 UI 조정
3. 성능 최적화

## 기술 스택
- Vue3
- TypeScript
- IndexedDB
- Pinia (상태 관리)
- Hexagonal 아키텍처

## 참고 사항
- IndexedDB를 사용하여 이미지 바이너리 저장
- 대표 이미지와 모든 생성된 이미지를 별도로 관리
- 이미지 생성 시 자동 저장 및 시나리오 로드 시 자동 불러오기
